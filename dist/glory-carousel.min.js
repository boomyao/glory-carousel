function GloryCarousel(e){function t(){if(0==D){var e=0;e=0==I?L.length-2:1==I?L.length-1:I-2,L[e].style.left=L[e].offsetLeft+L.length*N+"px",r(L[I]),l(),I<L.length-1?I++:I=0,d(),o(L[I])}}function n(){if(0==D){var e=I-3>=0?I-3:I-3+L.length;L[e].style.left=L[e].offsetLeft-L.length*N+"px",r(L[I]),a(),I>0?I--:I=L.length-1,d(),o(L[I])}}function l(){u(),b--;var e=0,t=setInterval(function(){N-e<V?v.style.left=v.offsetLeft-(N-e)+"px":v.style.left=v.offsetLeft-V+"px",e+=V,e>=N&&(clearInterval(t),g())},P)}function a(){u(),b++;var e=0,t=setInterval(function(){N-e<V?v.style.left=v.offsetLeft+(N-e)+"px":v.style.left=v.offsetLeft+V+"px",e+=V,e>=N&&(clearInterval(t),g())},P)}function r(e){u();var t=W,n=S-N,l=0,a=setInterval(function(){if(n-l<t){var r=n-l;e.style.width=N+"px",e.style.height=M+"px",e.style.left=e.offsetLeft+.5*r+"px"}else e.style.width=e.offsetWidth-t+"px",e.style.height=e.offsetHeight-t*B+"px",e.style.left=e.offsetLeft+.5*t+"px";l+=t,l>=n&&(clearInterval(a),e.style.zIndex=0,g())},R)}function o(e){u(),e.style.zIndex=10;var t=W,n=S-N,l=0,a=setInterval(function(){if(n-l<t){var r=n-l;e.style.width=S+"px",e.style.height=z+"px",e.style.left=e.offsetLeft-.5*r+"px"}else e.style.width=e.offsetWidth+t+"px",e.style.height=e.offsetHeight+t*B+"px",e.style.left=e.offsetLeft-.5*t+"px";l+=t,l>=n&&(clearInterval(a),g())},R)}function i(e){v.style.left=0,b=0;for(var t=[],n=0;n<L.length;n++)e=e-L.length>=0?e-L.length:e,t[n]=e,e++;for(var n=0;n<L.length;n++)L[t[n]].style.zIndex=0,L.length-n<=2?L[t[n]].style.left=q-(L.length-n)*N+"px":L[t[n]].style.left=q+n*N+"px"}function f(e,t){c(e,t),y.style.width=C+"px",y.style.height=E+"px",v.style.height=E+"px";for(var n=0;n<L.length;n++)L[n].style.width=N+"px",L[n].style.height=M+"px"}function s(){var e=Math.round(255*Math.random()).toString(16),t=Math.round(255*Math.random()).toString(16),n=Math.round(255*Math.random()).toString(16);e=2==e.length?e:"0"+e,t=2==t.length?t:"0"+t,n=2==n.length?n:"0"+n;var l="#"+e+t+n;return l}function h(){if(y=document.getElementById(e.name),!y)throw"no exist called this name element,please create element called this name";y.className="glorycarousel",v=document.createElement("div"),v.className="glory-inner",y.appendChild(v),c(e.width,e.height),I=0;for(var l=0;l<p.length;l++){var a=document.createElement("div");a.className="glory-item",a.style.backgroundColor=s(),v.appendChild(a)}L=document.getElementsByClassName("glory-item");for(var l=0;l<L.length;l++){var r=document.createElement("img");r.style.width=r.style.height="100%",r.src=p[l],L[l].appendChild(r)}x=document.createElement("ul"),x.className="dot-box",y.appendChild(x);for(var l=0;l<L.length;l++){var o=document.createElement("li");x.appendChild(o)}w=x.querySelectorAll("li");for(var l=0;l<w.length;l++){var i=document.createElement("span");w[l].appendChild(i),function(e){w[l].addEventListener("mouseenter",function(){I!=e&&(e-I==1||e-I==-L.length+1?t():e-I==-1||e-I==L.length-1?n():(I=e,m()))})}(l)}if(k){setInterval(function(){t()},A)}}function c(t,n){e.singleShow?(C=t||300,E=n||105,S=C,z=E,N=S*H,M=z*H,q=(S-N)/2):(C=t||400,E=n||100,N=E*H/B,M=E*H,S=N/H,z=M/H,q=(C-N)/2)}function u(){D++}function g(){D--,0==D&&(v.style.left=b*N+"px")}function d(){for(var e=0;e<w.length;e++)e==I?w[e].className="active":w[e].className=""}function m(){d(),f(e.width,e.height),i(I),o(L[I])}var p=e.images;if(!e.name)throw"require name to this glory";if(!p)throw"must provide parameter images";if(p.length<5)throw"require more than 4 pictures";var y,v,x,w,I,L,C,E,N,M,S,z,q,D=0,b=0,B=e.sizeRate||.35,H=e.scaleRate||10/13,P=e.moveDuration||12,R=e.scaleDuration||12,V=e.movePerVal||30,W=e.scalePerVal||6,k=e.autoScroll||!1,A=e.scrollDuration||5e3;this.resize=function(e,t){f(e,t)},this.next=function(){t()},this.previous=function(){n()},h(),m()}